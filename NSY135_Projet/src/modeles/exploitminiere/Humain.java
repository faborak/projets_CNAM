package modeles.exploitminiere;

import java.util.HashSet;
import java.util.Set;

import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.OneToMany;
import javax.persistence.PrimaryKeyJoinColumn;
import javax.persistence.Transient;

@Entity
@PrimaryKeyJoinColumn(name="id_ouvrier")
public class Humain extends Ouvrier {

	/**
	 * Salaire de l'humain.
	 */
	@Column
	Integer salaire;
	public void setSalaire(Integer s) {salaire = s;}
	public Integer getSalaire() {return salaire;}
	
	/**
	 * Les équipes encadrées affectées par l'Humain.
	 * La responsabilité du mappage est confié à l'équipe, via l'annotation mappedBy.  
	 * Seuls les humains ont accès à la méthode addEquipeEncadrees
	 */
	@OneToMany(mappedBy="manager")
	private Set<Equipe> equipeEncadrees = new HashSet<Equipe>();
	public void addEquipeEncadrees(Equipe f) {f.setManager(this); equipeEncadrees.add(f);}
	public Set<Equipe> getequipeEncadrees() {return equipeEncadrees;}
	
	/**
	 * propriété non persistante, utilisée uniquement pour le calcul de cout en gestion.  
	 */
	@Transient
	public long cout;
	public double getCout() {return cout;}
	public void calculCout() {
		cout = salaire * 5000;
	}
	
}
