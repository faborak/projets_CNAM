package modeles.exploitminiere;

import java.util.HashSet;
import java.util.Set;

import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.Inheritance;
import javax.persistence.InheritanceType;
import javax.persistence.OneToMany;


@Entity
@Inheritance(strategy=InheritanceType.JOINED)
public class Gisement {

	/**
	 * Id du gisement. Clé primaire dans la table Gisement. 
	 */
	@Id
	@GeneratedValue
	@Column(name = "id_gisement")
	private Long IdGisement;
	public void setIdGisement(Long i) {IdGisement = i;}
	public Long getIdGisement() {return IdGisement;}
	
	/**
	 * Nom du gisement. 
	 */
	@Column
	String nom;
	public void setNom(String n) {nom = n;}
	public String getNom() {return nom;}
	
	/**
	 * Date de mise en service. Attendue au format AAAA-MM-JJ.  
	 */
	@Column
	String date_mise_en_service;
	public void setDate_mise_en_service(String d) {date_mise_en_service = d;}
	public String getDate_mise_en_service() {return date_mise_en_service;}
	
	/**
	 * Rendement mensuel entre 0 et 1. 
	 */
	@Column
	private Float rendement_mensuel;
	public void setRendement_mensuel(Float rm) {rendement_mensuel = rm;}
	public Float getRendement_mensuel() {return rendement_mensuel;}
	
	/**
	 * Les équipes affectées sur le Gisement.
	 * La responsabilité du mappage est confié à l'équipe, via l'annotation mappedBy.  
	 */
	@OneToMany(mappedBy="gisementEnCours")
	private Set<Equipe> equipesAffectees = new HashSet<Equipe>();
	public void addequipesAffectees(Equipe f) {f.setGisementEnCours(this); equipesAffectees.add(f);}
	public Set<Equipe> getequipesAffectees() {return equipesAffectees;}
	}
